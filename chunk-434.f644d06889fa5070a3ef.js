"use strict";(self.webpackChunkhopital_availabilty_frontend=self.webpackChunkhopital_availabilty_frontend||[]).push([[434],{54434:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(64687)),s=n(r(17156)),i=n(r(56690)),l=n(r(89728)),o=n(r(66115)),c=n(r(61655)),u=n(r(94993)),f=n(r(73808)),d=n(r(38416)),p=n(r(87153)),h=n(r(45095)),m=r(14795),v=n(r(87418)),b=n(r(42761)),x=n(r(61634)),y=n(r(96540)),g=r(23624),j=r(5977),O=r(41559),w=r(32840),P=r(85893);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=(0,m.styled)("div")((function(e){return{position:"relative",backgroundColor:"rgba(107, 119, 154, 0.05);",marginRight:e.theme.spacing(2),marginLeft:0,width:"100%",borderRadius:"10px"}})),C=(0,m.styled)("div")((function(e){return{margin:"0",padding:e.theme.spacing(0,0,0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),R=(0,m.styled)(v.default)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":(0,d.default)({padding:t.spacing(1,1,1,0),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"100%"})}})),D=function(e){(0,c.default)(v,e);var t,r,n,m=(r=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,f.default)(r);if(n){var a=(0,f.default)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,u.default)(this,e)});function v(e){var t;return(0,i.default)(this,v),t=m.call(this,e),(0,d.default)((0,o.default)(t),"editSearchTerm",(function(e){t.setState({searchTerm:e},(function(){t.getAmbulances()}))})),t.state=N(N({},t.state),{},{searchTerm:""}),t.getAmbulances(),t}return(0,l.default)(v,[{key:"getAmbulances",value:(t=(0,s.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.Ambulance.filter({search:this.state.searchTerm}).then((function(e){var r=e.next,n=e.results;t.setState({ambulances:n,next:r})}));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return(0,P.jsxs)("div",{className:"mx-2 pt-4 mb-5 pb-4",children:[(0,P.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,P.jsx)(p.default,{onClick:function(){return e.props.history.goBack()}}),(0,P.jsx)("p",{className:"m-0",children:(0,P.jsx)("b",{children:"Ambulances"})}),(0,P.jsx)("img",{src:h.default,alt:"filter"})]}),(0,P.jsx)("div",{className:"mt-2",children:(0,P.jsxs)(S,{children:[(0,P.jsx)(C,{children:(0,P.jsx)(b.default,{})}),(0,P.jsx)(R,{placeholder:"Search for Ambulances",inputProps:{"aria-label":"search"},type:"text",value:this.state.searchTerm,onChange:function(t){return e.editSearchTerm(t.target.value)}})]})}),(0,P.jsx)("div",{className:"d-flex justify-content-around flex-wrap mt-3 px-0 p-0",children:this.state.ambulances&&this.state.ambulances.map((function(e,t){return(0,P.jsx)(w.AmbulanceCards,{model:e},t)}))}),(0,P.jsx)(x.default,{onClick:function(){return e.props.history.push("/addambulance")},sx:{position:"fixed",bottom:80,right:16},color:"primary","aria-label":"add",children:(0,P.jsx)(y.default,{})})]})}}]),v}(g.AuthComponent),M=(0,j.withRouter)(D);t.default=M},32840:function(e,t,r){var n=r(64836),a=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResultsLoc=t.AmbulanceCards=void 0;var s=n(r(861)),i=n(r(66115)),l=n(r(38416)),o=n(r(56690)),c=n(r(89728)),u=n(r(61655)),f=n(r(94993)),d=n(r(73808)),p=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=N(t);if(r&&r.has(e))return r.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(67294)),h=r(41559),m=r(73727),v=r(7758),b=n(r(27753)),x=n(r(83913)),y=n(r(61448)),g=n(r(1397)),j=r(5977),O=r(26401),w=n(r(31607)),P=r(72132),k=r(85893);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(N=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var D=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,c.default)(r,[{key:"render",value:function(){var e,t=this;return(0,k.jsx)(m.Link,{style:{textDecoration:"none"},className:"text-dark w-100",to:"/details/"+this.props.model.id,children:(0,k.jsxs)("div",{className:"cardstyle mb-2 justify-content-between d-flex",children:[(0,k.jsx)("div",{className:"align-self-center",children:(0,k.jsx)(v.Avatar,{className:"align-self-center",sx:{width:"37px",height:"37px",marginLeft:"10px"},src:this.props.model.image?this.props.model.image:b.default})}),(0,k.jsxs)("div",{className:"box2 flex-grow-1 ml-3 flex-1 bg-white text-left align-self-center  ",children:[(0,k.jsxs)("div",{className:"mt-3  justify-content-between hospital-title ",children:[(0,k.jsx)("div",{className:"w-60 text-left ",children:null!==this.props.model.name?null===(e=this.props.model.name)||void 0===e?void 0:e.split(",")[0]:""}),(0,k.jsxs)("div",{className:"ratingvalue d-flex justify-content-center",style:{height:"fit-content",width:"fit-content"},children:[(0,k.jsx)("div",{className:"px-1",children:this.props.model.rating}),(0,k.jsx)("img",{alt:"",className:"staricon ",src:x.default})]})]}),(0,k.jsxs)("div",{className:"d-flex address-container justify-content-between",children:[(0,k.jsxs)("div",{className:"hospital-address d-flex flex-column",children:[(0,k.jsxs)("div",{children:["Hospital:",this.props.model.hospital]}),(0,k.jsxs)("div",{children:["Driver:",this.props.model.driver_name]})]}),(0,k.jsxs)("div",{className:"container d-flex justify-content-end",children:["0000000000"!==this.props.model.phone_number?(0,k.jsx)("button",{className:"pvrtab",onClick:function(e){e.preventDefault(),e.stopPropagation(),document.location.href="tel:"+t.props.model.phone_number},children:(0,k.jsx)("img",{src:y.default,alt:""})}):(0,k.jsx)("button",{className:"pvrtab",onClick:function(e){e.preventDefault(),e.stopPropagation(),alert("Mobile no is not available for selected hospital")},children:(0,k.jsx)("img",{src:y.default,alt:""})}),(0,k.jsx)("button",{className:"pvrtab",children:(0,k.jsx)("img",{src:g.default,alt:""})})]})]})]})]})})}}]),r}(p.Component),M=(0,j.withRouter)(D),_=function(e){(0,u.default)(r,e);var t=R(r);function r(e){var n;return(0,o.default)(this,r),n=t.call(this,e),(0,l.default)((0,i.default)(n),"handleNext",(function(){var e=(0,O.getParam)("loc","Search Location"),t=(0,O.getParam)("lat"),r=(0,O.getParam)("lng"),a=(0,O.getParam)("query","Search Hospital"),i=n.state,l=i.offset,o=i.models;h.Marker.filter({search:a,lat:t,lng:r,limit:10,offset:l}).then((function(t){var r=t.results,i=t.next;o.push.apply(o,(0,s.default)(r)),n.setState({models:o,next:i,reset:!0,loc:e,query:a,offset:l+10})}))})),n.state=C(C({},n.state),{},{models:[],next:"",reset:!1,loc:"",query:"",offset:0}),n}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=this,t=(0,O.getParam)("loc","Search Location"),r=(0,O.getParam)("lat",""),n=(0,O.getParam)("lng",""),a=(0,O.getParam)("query","Search Hospital");h.Marker.filter({search:a,lat:r,lng:n,limit:10}).then((function(r){var n=r.next,s=r.results;e.setState({models:s,next:n,reset:!0,loc:t,query:a,offset:10})})).catch((function(){P.toast.error("Oops something went wrong",{position:"bottom-center"}),setTimeout(e.props.history.push,1e3,"/")})),this.setState({reset:!1})}},{key:"componentDidUpdate",value:function(){var e=this,t=(0,O.getParam)("loc","Search Location"),r=(0,O.getParam)("lat"),n=(0,O.getParam)("lng"),a=(0,O.getParam)("query","Search Hospital");this.state.loc===t&&this.state.query===a||(this.state.reset&&this.setState({reset:!1}),this.props.updateParent(),h.Marker.filter({search:a,lat:r,lng:n,limit:10}).then((function(r){var n=r.results,s=r.next;e.setState({models:n,next:s,reset:!0,loc:t,query:a,offset:10})})))}},{key:"render",value:function(){return this.state.reset?(0,k.jsxs)(v.Container,{className:"m-0 p-0",children:[this.state.models.map((function(e,t){return(0,k.jsx)(M,{model:e},t)})),this.state.next?(0,k.jsx)("button",{className:"btn btn-outline-primary",onClick:this.handleNext,children:"More results"}):""]}):(0,k.jsx)(v.Container,{className:"mt-5 pt-5 text-center",children:(0,k.jsx)(w.default,{type:"Bars",color:"#3a77ff",height:50,width:50})})}}]),r}(p.Component);t.SearchResultsLoc=_;var A=(0,j.withRouter)(D);t.AmbulanceCards=A}}]);
//# sourceMappingURL=chunk-434.f644d06889fa5070a3ef.js.map